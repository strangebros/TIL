> 우선 간략하게 작성, 이후에 상세 버전으로 교체 예정

### 신뢰성 보장
* 카프카의 기본 보장
  * 파티션 내 메시지 순서 보장
  * 커밋된 메시지는 ISR에 모두 복제됨
  * 최소 하나의 레플리카가 살아있으면 데이터 보존
* 트레이드오프: 신뢰성 ↔ 성능/가용성/디스크용량

### 브로커 설정
* **replication.factor**: 보통 3 권장 (리더 1 + 팔로워 2)
* **unclean.leader.election.enable**
  * false: 신뢰성 우선, ISR만 리더 가능
  * true: 가용성 우선, 데이터 손실 감수
* **min.insync.replicas**: acks=all과 함께 써서 최소 복제 보장

### 프로듀서 설정
* **acks 옵션**
  * 0: 전송 즉시 성공, 손실 가능
  * 1: 리더 기록 확인
  * all: ISR 모두 기록 확인
* **retries**: delivery.timeout.ms 내에서 재시도
* 버퍼 가득 차면 max.block.ms만큼 대기

### 컨슈머 설정
* session.timeout.ms로 장애 감지 시간 조절
* 오프셋 커밋 전략
  * 자동: 편하지만 중복/손실 위험
  * 수동: 정확한 제어 가능
* pause()/resume()로 처리 속도 제어

### 모니터링 포인트
* 언더레플리케이티드 파티션 수
* 오프라인 파티션 유무
* 프로듀서/컨슈머 래그
* JMX 메트릭으로 실시간 감시

### 실전 예제
* **금융 거래**: acks=all, min.insync.replicas=2, 중복 방지 필수
* **실시간 추천**: acks=1, 속도 우선, 약간의 손실 OK
* **로그 수집**: 배치 처리, 압축 활용, 장애 시 로컬 버퍼링